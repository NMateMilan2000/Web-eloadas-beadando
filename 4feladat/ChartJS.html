<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChartJS Táblázat</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="ChartJS.css">
</head>
<body class="p-3">
    <nav>
        <ul>
            <li><a href="index.html" >Főoldal</a></li>
            <li><a href="/2feladat/tabla.html">Táblázat</a></li>
            <li><a href="/3feladat/html5.html">HTML5 API</a></li>
            <li><a href="/4feladat/ChartJS.html" class="active">ChartJS</a></li>
            <li><a href="/5feladat/ajax.html">AJAX</a></li>
            <li><a href="/6feladat/oojs.html">OOJS</a></li>
            <li><a href="/react/7feladat">React</a></li>
        </ul>
    </nav>

    <h1 class="mb-3">ChartJS Táblázat</h1>

    <table class="table table-bordered table-striped text-center" id="dataTable">
        <thead class="table-dark">
            <tr>
                <th>#</th>
                <th>1</th>
                <th>2</th>
                <th>3</th>
                <th>4</th>
                <th>5</th>
            </tr>
        </thead>
        <tbody>
            <!-- Generáljunk 5x5-ös táblázatot -->
            <script>
                const tableBody = document.querySelector("#dataTable tbody");
                for (let i = 1; i <= 5; i++) {
                    let row = `<tr><td>${i}</td>`;
                    for (let j = 1; j <= 5; j++) {
                        row += `<td>${Math.floor(Math.random() * 100)}</td>`;
                    }
                    row += "</tr>";
                    tableBody.innerHTML += row;
                }
            </script>
        </tbody>
    </table>

    <canvas id="lineChart" style="width: 100%; height: 600px;"></canvas>

    <script>
        const ctx = document.getElementById('lineChart').getContext('2d');
        let chart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: ['1', '2', '3', '4', '5'],
                datasets: [{
                    label: 'Kiválasztott sor adatai',
                    data: [],
                    borderColor: 'rgb(75, 192, 192)',
                    tension: 0.1
                }]
            }
        });

        document.querySelectorAll('#dataTable tbody tr').forEach(row => {
            row.addEventListener('click', () => {
                const rowData = [...row.children].slice(1).map(td => parseInt(td.innerText));
                chart.data.datasets[0].data = rowData;
                chart.update();
            });
        });
    </script>
    <footer>
        <p>Készítő: Nagy Máté Milán, CN72T, </p>
    </footer>
</body>
</html>